async function main() {
    try {
        // 1. เริ่มต้น LIFF
        await liff.init({ liffId: "2008820291-s6WNZ5xr" });

        // 2. เช็คว่า Login หรือยัง
        if (!liff.isLoggedIn()) {
            console.log("ยังไม่ได้ Login กำลังไปหน้า Login...");
            liff.login();
        } else {
            // 3. ดึงข้อมูล
            const profile = await liff.getProfile();
            console.log(profile); // ดูข้อมูลใน Console

            document.getElementById("displayName").innerText = profile.displayName;
            document.getElementById("pictureUrl").src = profile.pictureUrl;
            document.getElementById("pictureUrl").style.display = "block";
            document.getElementById("userId").innerText = "ID: " + profile.userId;
        }
    } catch (error) {
        console.error("เกิดข้อผิดพลาด:", error);
        document.getElementById("displayName").innerText = "เกิดข้อผิดพลาด: " + error.message;
    }
}
main();
