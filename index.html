<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Member Card</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
        body { font-family: 'Helvetica', sans-serif; background-color: #f0f2f5; display: flex; justify-content: center; padding-top: 50px; }
        .card { background: white; width: 85%; border-radius: 20px; box-shadow: 0 10px 20px rgba(0,0,0,0.1); overflow: hidden; text-align: center; padding-bottom: 30px; }
        .header { background: #00b900; height: 100px; }
        .profile-img { width: 100px; height: 100px; border-radius: 50%; border: 5px solid white; margin-top: -50px; background: #eee; }
        .info { padding: 20px; }
        .name { font-size: 22px; font-weight: bold; color: #333; }
        .status { color: #888; font-size: 14px; margin-top: 5px; }
        .user-id { background: #f8f9fa; margin: 20px; padding: 10px; border-radius: 10px; font-family: monospace; font-size: 12px; color: #666; word-break: break-all; }
        .btn-close { background: #ff4b5c; color: white; border: none; padding: 10px 25px; border-radius: 25px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

<div class="card">
    <div class="header"></div>
    <img id="pictureUrl" class="profile-img" src="https://via.placeholder.com/100" alt="Profile">
    <div class="info">
        <div id="displayName" class="name">กำลังโหลด...</div>
        <div id="statusMessage" class="status">-</div>
        <div id="userId" class="user-id">ID: ...</div>
        <button class="btn-close" onclick="liff.closeWindow()">ปิดหน้าต่าง</button>
    </div>
</div>

<script>
    async function main() {
        await liff.init({ liffId: "2008820291-s6WNZ5xr" });

        if (liff.isLoggedIn()) {
            const profile = await liff.getProfile();
            
            // นำข้อมูลมาโชว์บนหน้าเว็บ
            document.getElementById("displayName").innerText = profile.displayName;
            document.getElementById("pictureUrl").src = profile.pictureUrl;
            document.getElementById("statusMessage").innerText = profile.statusMessage || "ไม่มีสถานะ";
            document.getElementById("userId").innerText = "User ID: " + profile.userId;

        } else {
            liff.login();
        }
    }
    main();
</script>

</body>
</html>
